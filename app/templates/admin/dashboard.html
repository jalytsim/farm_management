{% extends 'layout.html' %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<div class="bg-white p-6 rounded-lg shadow-md mb-6">
    <p class="text-lg mb-4">Welcome, <span class="font-semibold">{{ current_user.username }}</span>!</p>
    <ul class="space-y-3 mb-6">
        <li>
            <button onclick="openModal('userModal')" class="text-blue-600 hover:underline">Create New User</button>
        </li>
        <li>
            <a href="{{ url_for('forest.index') }}" class="text-blue-600 hover:underline">Forest Management</a>
        </li>
        <li>
            <a href="{{ url_for('farm.index') }}" class="text-blue-600 hover:underline">Farmer Management</a>
        </li>
    </ul>
    <a href="{{ url_for('auth.logout') }}" class="inline-block bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700">Logout</a>
</div>
<script>
    function openModal(modalId) {
        document.getElementById(modalId).classList.remove('hidden');
    }

    function closeModal(modalId) {
        document.getElementById(modalId).classList.add('hidden');
    }
    document.addEventListener('DOMContentLoaded', function() {
        
        function closeModal(modalId) {
            console.log('Closing modal:', modalId);
            const modal = document.getElementById(modalId);
            modal.classList.add('hidden');
        }

        document.getElementById('canceladminButton').addEventListener('click', function() {
            closeModal('userModal');
        });
    });
    
</script>
{% include 'admin/create_user.html' %}
{% include 'admin/user_list.html' %}
{% endblock %}
